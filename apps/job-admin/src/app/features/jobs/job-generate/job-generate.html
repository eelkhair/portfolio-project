<!--suppress JSUnusedGlobalSymbols -->
<p-dialog header="Generate Draft"
          (onHide)="store.showGenerate.set(false)"
          (visibleChange)="store.showGenerate.set(false)"
          [modal]="true" [visible]="store.showGenerate()"
          [style]="{ width: '40rem', height:'470px' }">
  <form (submit)="submit($event)" [formGroup]="form">
    <p-stepper [value]="1" class="basis-[50rem]">
      <p-step-list>
        <p-step [value]="1">Basics</p-step>
        <p-step [value]="2">Scope</p-step>
        <p-step [value]="3">Qualifications</p-step>
        <p-step [value]="4">Style</p-step>
      </p-step-list>
      <p-step-panels>
        <p-step-panel [value]="1">
          <ng-template #content let-activateCallback="activateCallback">
            <div class=" flex flex-col gap-3 w-full">
              <div class="flex items-center" >
                <label class="w-40">Job Title Seed <span class="text-red-600 font-bold">*</span></label>
                <input class="w-full" autofocus pInputText placeholder="Backend Engineer" formControlName="titleSeed"/>
              </div>
              <div class="flex items-center">
                <label class="w-40">Company</label>
                <input class="w-full"  pInputText formControlName="companyName"/>
              </div>
              <div class="flex w-full items-center">
                <label class="w-40">Team</label>
                <input class="w-full" pInputText/>
              </div>
              <div class="flex w-full items-center">
                <label class="w-40">Location <span class="pi pi-info-circle" pTooltip="(City, ST | Remote | Hybrid)"></span></label>
                <input class="w-full" pInputText/>
              </div>
            </div>
            <div class="flex pt-6 justify-end ">
              <p-button label="Next" icon="pi pi-arrow-right" iconPos="right" (onClick)="activateCallback(2)"/>
            </div>
          </ng-template>
        </p-step-panel>

        <p-step-panel [value]="2">
          <ng-template #content let-activateCallback="activateCallback">
            <div class="flex w-full flex-col gap-3">
              <div class="w-full flex items-center">
                <label class="w-40">Brief <span class="text-red-600 font-bold">*</span></label>
                <textarea pInputTextarea rows="5"

                          class="fixed-textarea"
                          placeholder="What will this person own? What impact?"></textarea>
              </div>

              <div class="flex items-center w-full">
                <label class="w-40">Role Level <span class="text-red-600 font-bold">*</span></label>
                <p-select class="w-full"
                          appendTo="body"
                          [options]="['Junior','Mid','Senior','Staff', 'Principal']">senior</p-select>
              </div>
            </div>
            <div class="flex pt-6 justify-between mt-3">
              <p-button label="Back" severity="secondary" icon="pi pi-arrow-left" (onClick)="activateCallback(1)"/>
              <p-button label="Next" icon="pi pi-arrow-right" iconPos="right" (onClick)="activateCallback(3)"/>
            </div>
          </ng-template>
        </p-step-panel>

        <p-step-panel [value]="3">
          <ng-template #content let-activateCallback="activateCallback">
            <div class="mb-10">
              What qualifications are you looking for?
            </div>
            <div class="flex flex-col gap-3 w-full">
              <div class="w-full flex">
                <label class="w-44">Must haves</label>
                <p-autoComplete
                  class="w-full"
                  formControlName="mustHaves"
                  [multiple]="true"
                  [suggestions]="skillSuggestions"
                  (completeMethod)="onComplete($event, form.controls.mustHaves.value)"
                  [autoHighlight]="true"
                  [forceSelection]="false"
                  placeholder="Type a skill and press Enter">
                </p-autoComplete>

              </div>
              <div class="flex w-full">
                <label class="w-44">Nice-to-haves</label>
                <p-autoComplete
                  class="w-full"
                  [multiple]="true"
                  [suggestions]="skillSuggestions"
                  (completeMethod)="onComplete($event, form.controls.niceToHaves.value)"
                  [autoHighlight]="true"
                  [forceSelection]="false"
                  placeholder="Type a skill and press Enter">
                </p-autoComplete>              </div>
            </div>
            <div class="flex pt-6 justify-between mt-11">
              <p-button label="Back" severity="secondary" icon="pi pi-arrow-left" (onClick)="activateCallback(2)"/>
              <p-button label="Next" icon="pi pi-arrow-right" iconPos="right" (onClick)="activateCallback(4)"/>
            </div>
          </ng-template>
        </p-step-panel>
        <p-step-panel [value]="4">
          <ng-template #content let-activateCallback="activateCallback">
            <div class="flex w-full flex-col gap-3">

              <div class="flex full items-center">
                <label class="w-44">Tone <span class="text-red-500 font-bold">*</span></label>
                <p-select class="w-full" [options]="['Neutral','Concise','Friendly']"></p-select>
              </div>
              <div class="flex w-full items-center">
                <label class="w-44">Max bullets (3â€“8)</label>
                <input class= "w-full" type="number" pInputText />
              </div>
              <div class="flex w-full items-center">
                <label class="w-44">Benefits (optional)</label>
                <textarea class="fixed-textarea w-full" pInputTextarea rows="3"></textarea>
              </div>
            </div>
            <div class="flex pt-6 justify-between mt-1">
              <p-button label="Back" severity="secondary" icon="pi pi-arrow-left" (onClick)="activateCallback(3)"/>
              <p-button label="Generate" icon="pi pi-arrow-right" iconPos="right" type="submit"/>
            </div>
          </ng-template>
        </p-step-panel>
      </p-step-panels>
    </p-stepper>
  </form>

</p-dialog>
